# use-case: **завершение аренды**

## Oписание
пользователь завершает поездку и оплачивает услуги каршеринга.

## акторы
-пользователь
-система каршеринга
-система оплаты

## предусловие 
-пользователь авторизован
-у пользователя активная сессия

## основной поток
1. пользователь выбирает завершить поездку.
2. система фиксирует текущее местоположение автомобиля.
3. система проверяет корректность местоположения авто(на разрешающей парковке).
4. пользователь фиксирует целостность авто фото отчетом.
5. система рассчитывает итоговую стоимость аренды
6. система каршеринга запрашивает у системы оплаты - списание средств.
7. система подтверждает оплату. 
8. пользователь получает уведомление об успешной оплате.
    ### альтернативный сценарий
    3а. автомобиль находится в запретной зоне - система выдает ошибку, и не завершает поездку
    3б. система оповещает о необходимости смене парковки - возвращает на шаг4. 

## постусловие
- в системе появляется запись об аренде с пользователем и стоимостью.
- автомобильно появляется в система как доступгый для бронирования.